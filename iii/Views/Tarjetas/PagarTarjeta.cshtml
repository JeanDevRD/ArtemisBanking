@model ArtemisBanking.Core.Application.Dtos.CreditCard.CreditCardDto
@{
    ViewData["Title"] = "Pagar Tarjeta de Crédito";
}

<div class="container mt-4 col-md-6">
    <h3>Pago de Tarjeta de Crédito</h3>

    <div class="alert alert-warning">
        <strong>Deuda Actual:</strong> @ViewBag.CurrentDebt?.ToString("C2") <br />
        <strong>Pago Mínimo Recomendado:</strong> @(Model.CurrentDebt * 0.05m).ToString("C2")
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <form method="post" class="bg-light p-4 rounded">
                <input type="hidden" name="cardId" value="@ViewBag.CardId" />

                <div class="form-group mb-3">
                    <label>Monto a Pagar</label>
                    <input type="number" name="amount" class="form-control" step="0.01" min="0.01" max="@Model.CurrentDebt" required placeholder="0.00" />
                    <small class="form-text text-muted">Máximo: @Model.CurrentDebt.ToString("C2")</small>
                </div>

                <div class="form-group mb-3">
                    <label>Tipo de Pago</label>
                    <select name="paymentType" class="form-control" required>
                        <option value="">-- Seleccione tipo de pago --</option>
                        <option value="Pago Mínimo">Pago Mínimo</option>
                        <option value="Pago Completo">Pago Completo</option>
                        <option value="Otro">Monto Personalizado</option>
                    </select>
                </div>

                <div class="form-group mb-3">
                    <label>Cuenta a Debitar</label>
                    <select name="sourceAccountId" class="form-control" required>
                        <option value="">-- Seleccione cuenta --</option>
                        <!-- Las cuentas deberían venir desde el controlador -->
                    </select>
                </div>

                <button type="submit" class="btn btn-success w-100">Continuar</button>
                <a asp-controller="Cards" asp-action="Detail" asp-route-id="@Model.Id" class="btn btn-outline-secondary w-100 mt-2">Cancelar</a>
            </form>
        </div>
    </div>
</div>
